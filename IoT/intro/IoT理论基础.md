# IOT理论基础

学习IOT之前，首先我们学习下理论基础，IOT通讯之间是有协议的，我们的编程核心思想也是基于这套协议的用法——MQTT

## IoT协议MQTT定义
MQTT是IBM（对，就是那个弄电脑那个）针对物联网实现的一套通讯协议。MQTT全称不用记，太长反正我也是记不住。只需要记住它是用在IoT上的协议就行了。包括小米呀很多物联网公司都是用这套协议去通讯。
MQTT核心采用订阅/发布模式，为推送而生。
![](./images/Microbit_IoT00.png)

## MQTT物理模型：

1.首先物联网肯定有一台服务器。不然那些要联网的设备把接收到的数据发给谁呢？服务器的作用就是接收数据，处理数据，分发数据

2.多个联网的设备。它们的作用就是给服务器发送数据，或者接受服务器的数据。

## MQTT工作过程：
![](./images/Microbit_IoT15.png)

1.多台联网的设备首先连上wifi网络，并且要连上指定的服务器（假设服务器已经有了）

2.设备需要订阅话题，只有订阅此话题后，设备才能向这个话题发送数据，或者一旦这个话题有消息更新，此设备可以接收更新的数据。这样拥有相同话题的设备他们之间就可以实现数据共通了。通讯过程由服务器来保障，这个过程我们就不用管了。

如果这个过程你不理解，你就想想你订阅微信公众号，假如你和小明一起订阅了同一个微信公众号（假设你俩之间互不认识，不是好友），你们可以在微信公众号下面的留言板进行聊天（笑Cry）这样你们就可以相互通讯了。


